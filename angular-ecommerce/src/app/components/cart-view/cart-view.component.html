<div class="main-container">
    <div class="cart-container">
        <div *ngIf="cartItems.length > 0">
            <h1>Products in your cart are:</h1>
            <table >
                <thead>
                    <tr>    
                        <th style="width: 20%;">Product Image</th>
                        <th style="width: 50%;">Product Details</th>
                        <th style="width: 30%;"></th>
                    </tr>
                </thead>
                <tbody>
                    <tr *ngFor="let product of cartItems">
                        <td >
                            <img src="{{product.imageUrl}}" alt="{{product.name}}" class="img">
                        </td>
                        <td>
                            <h3>{{product.name}}</h3>
                            <p>{{product.unitPrice | currency:'INR'}}</p>
                        </td>
                        <td>
                            <div class="cart-items">
                                <label>Qty:</label>
                                <div class="add-remove-buttons">
                                    <div  class="remove-icon" (click)="decrementQuantity(product)"><mat-icon>remove_circle_outline</mat-icon></div>
                                    <span> {{product.quantity}} </span>
                                    <div class="add-icon" (click)="addItem(product)"><mat-icon>add_circle_outline</mat-icon></div>
                                </div>
                                
                                <button mat-raised-button color="warn" (click)="removeItem(product)">Remove 
                                    <mat-icon>delete_outline</mat-icon>
                                </button>
                                <p class="btn-padding">Subtotal: {{product.quantity*(product.unitPrice) | currency: 'INR'}}</p>
                            </div>
                            
                        </td>
                    </tr>
                    <tr>
                        <td colspan="2"></td>
                        <td class="cart-total">
                            <p>Total Quantity: {{ totalQuantity }}</p>
                            <p>Shipping: FREE</p>
                            <p>Total Price {{ totalPrice | currency: 'INR' }}</p>
                            <button mat-raised-button color="accent">
                                <a routerLink="/checkout">Checkout</a>
                            </button>
                        </td>
                    </tr>
                </tbody>
            </table>
        </div>
        <!-- if cart is empty -->
        <div *ngIf="cartItems.length === 0" class="cart-alert" >
            Your shopping cart is empty!
        </div>
        <div class="back-button">
            <a routerLink="/products">Back to Products</a>
        </div>
    </div>    
</div>